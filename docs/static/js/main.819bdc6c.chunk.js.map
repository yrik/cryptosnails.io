{"version":3,"sources":["../../node_modules/@ion-phaser/core/dist/esm lazy /^/.//.*/.entry/.js$/ include: //.entry/.js$/ exclude: //.system/.entry/.js$/ groupOptions: {} namespace object","CryptoSnailsABI.js","Game.js","App.js","reportWebVitals.js","index.js"],"names":["map","webpackAsyncContext","req","__webpack_require__","o","Promise","resolve","then","e","Error","code","ids","id","keys","Object","module","exports","abi","Game","nft","player","Moralis","gameRef","useRef","PlayerPosition","extend","useState","undefined","user","setUser","config","scale","mode","Phaser","Scale","FIT","autoCenter","CENTER_BOTH","width","height","physics","default","arcade","debug","scene","preload","create","update","useEffect","a","User","current","getNFT","init","cursors","text","coinScore","competitors","playerUrl","this","load","image","levelQuery","Query","descending","first","level","size","get","indexes","Array","backgroundTileMap","make","tilemap","data","_","tileWidth","tileHeight","tileMargin","tileSpacing","backgroundTileSet","addTilesetImage","createLayer","wallsTileMap","wallsTileSet","wallsLayer","setCollisionBetween","edgeTileMap","row","col","edgeTileSet","edgeLayer","camera","cameras","main","input","keyboard","createCursorKeys","setBounds","widthInPixels","heightInPixels","coins","add","staticGroup","coinsQuery","limit","find","coinData","console","log","subscribe","on","refresh","lastQuery","equalTo","lastPosition","lastX","lastY","setScale","refreshBody","overlap","collectCoin","collider","startFollow","query","position","x","y","addr","font","fill","padding","backgroundColor","setScrollFactor","claimButton","setInteractive","claimCoins","time","delta","left","isDown","setVelocityX","setFlip","right","down","setVelocityY","up","playerPosition","set","save","alert","Cloud","run","setText","coin","destroy","tokenUri","tokenData","rawSVG","image_data","svgBlob","Blob","type","url","URL","createObjectURL","ref","game","MemoizedGame","React","memo","App","isProduction","options","address","chain","useMoralis","isInitialized","web3","authenticate","logout","isAuthenticated","enableWeb3","isWeb3Enabled","web3EnableError","isWeb3EnableLoading","snailPrice","setSnailPrice","totalSupply","setTotalSupply","amount","setAmount","price","provider","ethers","providers","Web3Provider","window","ethereum","signer","getSigner","contract","Contract","buy","value","tx","wait","receipt","Web3API","native","runContractFunction","function_name","utils","parseUnits","Helmet","charSet","className","onClick","signingMessage","formatEther","min","max","onChange","target","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","moralisConfig","test","appId","serverUrl","production","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.819bdc6c.chunk.js","sourcesContent":["var map = {\n\t\"./ion-phaser.entry.js\": [\n\t\t1046,\n\t\t5\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 1044;\nmodule.exports = webpackAsyncContext;","export const abi = [\n\t{\n\t\t\"anonymous\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"owner\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"approved\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"tokenId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"Approval\",\n\t\t\"type\": \"event\"\n\t},\n\t{\n\t\t\"anonymous\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"owner\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"operator\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"bool\",\n\t\t\t\t\"name\": \"approved\",\n\t\t\t\t\"type\": \"bool\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"ApprovalForAll\",\n\t\t\"type\": \"event\"\n\t},\n\t{\n\t\t\"anonymous\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"previousOwner\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"newOwner\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"OwnershipTransferred\",\n\t\t\"type\": \"event\"\n\t},\n\t{\n\t\t\"anonymous\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"from\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"to\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": true,\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"tokenId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"Transfer\",\n\t\t\"type\": \"event\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"to\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"tokenId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"approve\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"snailsAmount\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"buy\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"payable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"renounceOwnership\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"reserveSnails\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"from\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"to\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"tokenId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"safeTransferFrom\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"from\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"to\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"tokenId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"bytes\",\n\t\t\t\t\"name\": \"_data\",\n\t\t\t\t\"type\": \"bytes\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"safeTransferFrom\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"operator\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"bool\",\n\t\t\t\t\"name\": \"approved\",\n\t\t\t\t\"type\": \"bool\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"setApprovalForAll\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"toogleSale\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"from\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"to\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"tokenId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"transferFrom\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"newOwner\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"transferOwnership\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"constructor\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"owner\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"balanceOf\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"tokenId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"getApproved\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"owner\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"operator\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"isApprovedForAll\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"bool\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"bool\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"MAX_SNAILS\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"name\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"owner\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"tokenId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"ownerOf\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"snailPrice\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"statusSale\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"bool\",\n\t\t\t\t\"name\": \"status\",\n\t\t\t\t\"type\": \"bool\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"bytes4\",\n\t\t\t\t\"name\": \"interfaceId\",\n\t\t\t\t\"type\": \"bytes4\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"supportsInterface\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"bool\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"bool\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"symbol\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"index\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"tokenByIndex\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"owner\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"index\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"tokenOfOwnerByIndex\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"owner\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"tokensOfOwner\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"string[]\",\n\t\t\t\t\"name\": \"ownerTokens\",\n\t\t\t\t\"type\": \"string[]\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"tokenId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"tokenURI\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [],\n\t\t\"name\": \"totalSupply\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t}\n]\n","import React, { useEffect, useState, useRef } from 'react'\nimport { useMoralis } from 'react-moralis'\nimport Phaser from 'phaser'\nimport { IonPhaser } from '@ion-phaser/react'\n//import { GameComponent } from 'phaser-react-tools'\n\n\nexport function Game({ Moralis }) {\n  const gameRef = useRef(null)\n  const PlayerPosition = Moralis.Object.extend(\"PlayerPosition\");\n\n  const [game, setGame] = useState()\n\n  const [user, setUser] = useState(undefined)\n  let nft\n\n  const config = {\n      //type: Phaser.AUTO,\n      //parent: 'phaser',\n      scale: {\n          mode: Phaser.Scale.FIT,\n          autoCenter: Phaser.Scale.CENTER_BOTH,\n          width: 800,\n          height: 600\n      },\n       physics: {\n          default: 'arcade',\n          arcade: {\n              debug: false\n          }\n      },\n      scene: {\n          preload: preload,\n          create: create,\n          update: update\n      }\n  };\n\n  useEffect(()=>{\n    async function init() {      \n        let user = Moralis.User.current();\n        setUser(user)\n        if (user) {\n          nft = await getNFT()\n        }\n        //setGame(Object.assign({}, config))\n    }\n    init()\n  })\n\n  let player;\n  let coinScore = 0;\n  let cursors;\n  let text;\n\n  const competitors = {};\n\n  async function preload () {\n      let playerUrl = nft ? nft : \"/images/basic-snail.svg\"\n      this.load.image(\"player\", playerUrl);\n      this.load.image(\"coin\", \"/images/coin.png\");\n      this.load.image(\"tiles\", \"/images/sprite.png\");\n  }\n\n\n  async function create () {\n\n    let levelQuery = new Moralis.Query('Level')\n    const level = await levelQuery.descending(\"createdAt\").first()\n\n    const size = level.get('size')\n    const indexes = [...Array(size).keys()]\n\n    const backgroundTileMap = this.make.tilemap({ \n      data: indexes.map( _ => indexes.map( _ => 4)), \n      tileWidth: 32, tileHeight: 32, tileMargin: 0, tileSpacing: 0, \n    })\n    const backgroundTileSet = backgroundTileMap.addTilesetImage(\"tiles\")\n    const backgroundLayer = backgroundTileMap.createLayer(0, backgroundTileSet, 0, 0); // layer index, tileset, x, y\n\n    const wallsTileMap = this.make.tilemap({ \n      data: level.get('data'),\n      tileWidth: 32, tileHeight: 32, tileMargin: 0, tileSpacing: 0, \n    })\n    const wallsTileSet = wallsTileMap.addTilesetImage(\"tiles\")\n    const wallsLayer = wallsTileMap.createLayer(0, wallsTileSet, 0, 0); // layer index, tileset, x, y\n    wallsLayer.setCollisionBetween(1, 50);\n\n\n    const edgeTileMap = this.make.tilemap({ \n      data: indexes.map( row => indexes.map( col => {\n       if(row == 0 || row == size-1 || col == 0 || col == size-1) return 3 \n      })), \n      tileWidth: 32, tileHeight: 32, tileMargin: 0, tileSpacing: 0, \n    })\n    const edgeTileSet = edgeTileMap.addTilesetImage(\"tiles\")\n    const edgeLayer = edgeTileMap.createLayer(0, edgeTileSet, 0, 0); // layer index, tileset, x, y\n    edgeLayer.setCollisionBetween(1, 50);\n\n\n    // Phaser supports multiple cameras, but you can access the default camera like this:\n    const camera = this.cameras.main;\n\n    // Set up the arrows to control the camera\n    cursors = this.input.keyboard.createCursorKeys();\n\n    // Constrain the camera so that it isn't allowed to move outside the width/height of tilemap\n    camera.setBounds(0, 0, backgroundTileMap.widthInPixels, backgroundTileMap.heightInPixels);\n\n    // Help text that has a \"fixed\" position on the screen\n\n    const coins = this.physics.add.staticGroup()\n    let coinsQuery = new Moralis.Query('Coin')\n    const coinsData = await coinsQuery.limit(1000).find()\n    coinsData.map(coinData => {\n      console.log('coins', coins)\n      coins.create(coinData.get('x') * 32, coinData.get('y') * 32, \"coin\"); \n    })\n\n    let coinsSubscription = await coinsQuery.subscribe();\n    coinsSubscription.on('create', (coinData) => {\n      console.log('created', coinData)\n      coins.create(coinData.get('x') * 32, coinData.get('y') * 32, \"coin\"); \n      coins.refresh()\n    });\n\n    if (user) {\n\n      coinScore = user.get('coinScore') || 0\n\n      let lastQuery = new Moralis.Query('PlayerPosition')\n      lastQuery.equalTo(\"player\", user.get(\"ethAddress\"))\n      const lastPosition = await lastQuery.descending(\"createdAt\").first()\n      let lastX = 300\n      let lastY = 300\n      if (lastPosition && lastPosition.get('x') && lastPosition.get('y')) {\n        lastX = lastPosition.get('x')\n        lastY = lastPosition.get('y')\n      }\n\n      player = this.physics.add.image(lastX, lastY, 'player').setScale(0.25).refreshBody();\n\n      this.physics.add.overlap(player, coins, collectCoin, null, this);\n      this.physics.add.collider(player, wallsLayer);\n      this.physics.add.collider(player, edgeLayer);\n      camera.startFollow(player)\n\n      let query = new Moralis.Query('PlayerPosition');\n      let subscription = await query.subscribe();\n      subscription.on('create', (position) => {\n        let x = position.get(\"x\")\n        let y = position.get(\"y\")\n        let addr = position.get(\"player\")\n        let currentUserAddr = user ? user.get(\"ethAddress\") : undefined;\n\n        // move competitors\n        if(addr != currentUserAddr){\n          // if first time seeing\n          if(competitors[addr] == undefined){\n            competitors[addr] = this.add.image(x, y, 'player').setScale(0.20);\n          }\n          else{\n            competitors[addr].x = x;\n            competitors[addr].y = y;\n          }\n        }\n      });\n\n      let levelQuery = new Moralis.Query('Level');\n      let levelSubscription = await levelQuery.subscribe();\n      levelSubscription.on('create', (level) => {\n        console.log('New Level created')\n        // TODO: check if works\n        const size = level.get('size')\n        const indexes = [...Array(size).keys()]\n\n        /*\n        wallsLayer.layer.data = level.get('data')\n\n        backgroundLayer.layer.data = indexes.map( _ => indexes.map( _ => 4))\n\n        edgeLayer.layer.data = indexes.map( row => indexes.map( col => {\n           if(row == 0 || row == size-1 || col == 0 || col == size-1) return 3 \n          }))\n        */\n      });\n\n      text = this.add.text(16, 16, `Coins Collected: ${coinScore}`, {\n          font: \"12px monospace\",\n          fill: \"#ffffff\",\n          padding: { x: 10, y: 5 },\n          backgroundColor: \"#000000\"\n      }).setScrollFactor(0);\n\n      const claimButton = this.add.text(180, 16, `Claim`, {\n          font: \"12px monospace\",\n          fill: \"#ffffff\",\n          padding: { x: 10, y: 5 },\n          backgroundColor: \"#000000\"\n      }).setScrollFactor(0);\n\n      claimButton.setInteractive();\n      claimButton.on('pointerdown', claimCoins);\n    }\n  }\n\n  async function update(time, delta) {\n\n    if (cursors) {\n      if (cursors.left.isDown)\n      {\n          player.setVelocityX(-160);\n          player.setFlip(false, false)\n      }\n      else if (cursors.right.isDown)\n      {\n          player.setVelocityX(160);\n          player.setFlip(true, false)\n      }\n      else if (cursors.down.isDown)\n      {\n          player.setVelocityY(160);\n      }\n      else if (cursors.up.isDown)\n      {\n          player.setVelocityY(-160);\n      }\n    }\n\n    if (player) {\n      if(player.lastX!=player.x  || player.lastY!=player.y){\n        \n        if (user) {\n          const playerPosition = new PlayerPosition();\n\n          playerPosition.set(\"player\", user.get(\"ethAddress\"));\n          playerPosition.set(\"x\",player.x);\n          playerPosition.set(\"y\",player.y)\n\n          player.lastX = player.x;\n          player.lastY = player.y;\n\n          await playerPosition.save();\n        }\n      }\n    }\n  }\n\n  async function claimCoins() {\n    alert(\"Moving coins to your account..\")\n      await Moralis.Cloud.run(\"claimCoins\")\n      coinScore = 0;\n      user.set('coinScore', 0) \n      await user.save()\n      text.setText(`Coins collected: ${coinScore}`); // set the text to show the current score\n  }\n\n  async function collectCoin(player, coin) {\n      coin.destroy(coin.x, coin.y); // remove the tile/coin\n      coinScore ++; // increment the score\n\n      // TODO: move to server when it's possible to modify user there\n      user.set('coinScore', coinScore) \n      await user.save()\n\n      await Moralis.Cloud.run(\"collectCoin\", {x: coin.x/32, y: coin.y/32})\n      text.setText(`Coins collected: ${coinScore}`); // set the text to show the current score\n      return false;\n  }\n\n  async function getNFT () {\n    return undefined; // TODO\n    // Get NFTs data (Only Aavegotchis)\n    const query = new Moralis.Query(\"PolygonNFTOwners\") || Moralis.Query(\"EthNFTOwners\");\n    let nft = await query.equalTo(\"name\", \"Aavegotchi\").first();\n    if (!nft) nft = await query.first()\n    if (!nft) return undefined\n    if (!nft.get('token_uri')) return undefined\n\n    const tokenData = await Moralis.Cloud.run(\"getTokenData\", {tokenUri: nft.get('token_uri')});\n    const rawSVG = tokenData.data.image_data\n    const svgBlob = new Blob([rawSVG], {type:\"image/svg+xml;charset=utf-8\"})\n    const url = URL.createObjectURL(svgBlob)\n    console.log('url', url)\n    return url\n  }\n\n  console.log('IonPhaser')\n\n  console.log('IonPhaser INIT')\n  //return <GameComponent config={config} />\n\n  return (<IonPhaser ref={gameRef} game={config} />)\n}\n\n\nexport function Leaderboard() {\n  async function getLeaderboard() {\n    /*\n    const query = new Moralis.Query(\"User\");\n    let users = await query.descending().limit(10).find();\n    console.log('users', users)\n    const text = users.map(user => `Player ${user.get('ethAddress')} has collected ${user.get('coinScore')} $Snail Tokens`).join(\"<br/>\")\n    //$(\"#leaderboard\").html('<h4>Leaderboard</h4>' + text)\n    */\n  }\n\n}\n\nexport const MemoizedGame = React.memo(Game)\n","import { useState, useEffect } from 'react';\n\nimport { ethers } from \"ethers\";\nimport { Helmet } from \"react-helmet\";\nimport { useMoralis } from 'react-moralis'\n\nimport './App.css';\nimport { abi } from \"./CryptoSnailsABI.js\";\nimport { MemoizedGame, Game } from './Game.js'\n\n\nfunction App({ isProduction }) {\n\n  const options = {\n    //address: \"0x37af8Ff206D7D7e85B3dED055F7B8082dAc22067\",  // TODO: switch depending on test/prod network\n    address: \"0x7A02175D2370033AA73df96BBb45813bF9DDE771\",\n    abi: abi,\n    chain: isProduction ? \"polygon\" : \"mumbai\"\n  };\n\n  const { Moralis, web3, isInitialized, authenticate, logout, isAuthenticated, user, isWeb3Enabled, enableWeb3, web3EnableError, isWeb3EnableLoading } = useMoralis()\n\n  const [snailPrice, setSnailPrice] = useState(undefined)\n  const [totalSupply, setTotalSupply] = useState(undefined)\n\n  const [amount, setAmount] = useState(1)\n  const price = amount * snailPrice\n\n  useEffect(()=>{\n    async function init() {      \n\n      if (isInitialized) {\n        const totalSupply = await Moralis.Web3API.native.runContractFunction({function_name: \"totalSupply\", ...options})\n        setTotalSupply(totalSupply)\n\n        const snailPrice = await Moralis.Web3API.native.runContractFunction({function_name: \"snailPrice\", ...options})\n        setSnailPrice(ethers.utils.parseUnits(snailPrice, \"wei\"))\n      }\n    }\n    init()\n  }, [isInitialized])\n\n  async function mintSnail() {\n      const provider = new ethers.providers.Web3Provider(window.ethereum)\n      const signer = provider.getSigner()\n      const contract = new ethers.Contract(options.address, options.abi, signer);\n\n      const tx = await contract.buy(amount, {value: price})\n      const receipt = await tx.wait()\n      console.log(receipt)\n  }\n\n  return (\n    <>\n      <Helmet>\n          <meta charSet=\"utf-8\" />\n          <title>Crypto Snails - Earn $snail crypto by playing the game</title>\n      </Helmet>\n\n      <div className=\"flex justify-end\">\n        <div className=\"flex px-5 py-5\">\n          <select value={isProduction ? \"polygon\" : \"mumbai\"}>\n            <option value=\"polygon\">Polygon Mainnet</option>\n            <option value=\"mumbai\">Polygon Testnet</option>\n          </select>\n        </div>\n        <div className=\"flex px-5 py-5 mr-5\">\n        { isAuthenticated ? (\n          <button className=\"underline text-blue-600 hover:text-blue-800 visited:text-purple-600\" onClick={() => logout()}>Logout</button>\n        ) : (\n          <button className=\"underline text-blue-600 hover:text-blue-800 visited:text-purple-600\" onClick={async () => {await enableWeb3(); await authenticate({signingMessage: \"CryptoSnails Auth\"})}}>Connect Wallet</button>\n        )}\n        </div>\n      </div>\n\n      <div>\n        <h1 className=\"text-3xl text-center\">Earn $snail crypto by playing the game</h1>\n        <div className=\"flex justify-center\">\n          <h4 className=\"max-w-xl mt-1 text-center\">Every day coins are thrown on the table. Collect them with a snail. In future snails can be staked to collect coins automatically.</h4>\n        </div>\n      </div>\n\n      <div className=\"pt-5 flex justify-center\">\n        <div className=\"flex w-300\">\n          <div className=\"m-10\">\n            <h1 className=\"text-xl\">Mint CryptoSnails</h1>\n            <br/>\n            <span>Available: {10000 - totalSupply} out of 10000</span>\n            <br/>\n            <span>price: {price && ethers.utils.formatEther(price)} eth</span>\n            <br/>\n            <input className=\"outline-black mr-5\" type=\"number\" min=\"1\" max=\"100\" value={amount} onChange={(e) => setAmount(e.target.value)} />\n            <button \n              onClick={mintSnail} \n              className=\"bg-blue-500 hover:bg-blue-700 text-white text-center py-2 px-4 rounded\"\n            >Mint</button>\n          </div>\n        </div>\n      </div>\n\n          <div>\n          { isInitialized ? <MemoizedGame Moralis={Moralis}/> : null}\n          </div>\n\n    </>\n  )\n\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { MoralisProvider } from \"react-moralis\";\n\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst moralisConfig = {\n  test: {appId: \"qbDgtX7LMRwrKfrnFsVByi7pxup2gyuE3lX9O32I\", serverUrl: \"https://4xftb2hl4taq.grandmoralis.com:2053/server\"},\n  production: {appId: \"JBfxbweoLK5be7xnZineX05Z3MRAPBoIohXvvqgX\", serverUrl: \"https://vqntw2bxdpp2.bigmoralis.com:2053/server\"},\n}\n\nlet isProduction = false;\n\nReactDOM.render(\n  <MoralisProvider {...(isProduction ? moralisConfig.production : moralisConfig.test)}>\n  <App isProduction={isProduction} />\n  </MoralisProvider>,\n  document.getElementById(\"root\"),\n);\n\nreportWebVitals(console.log);\n"],"sourceRoot":""}